import{S as oe,i as fe,s as ce,F as Ie,e as y,c as D,a as M,d as u,b as g,g as P,J as c,G as Ee,H as ye,I as De,r as O,p as q,x as J,k as F,y as Q,m as G,z as K,L as te,C as Z,w as be,M as Ce,l as se,t as T,N as we,h as A,O as ke,P as je,f as re,j as ee,Q as pe,o as Me,q as Ve,R as _e,T as Te,n as Ae}from"../chunks/index-111195a5.js";import{F as Se}from"../chunks/Footer-b4024c20.js";import{N as Ue,M as Pe}from"../chunks/Nav-660ddfaa.js";function Ne(n){let e,s,t;const r=n[1].default,l=Ie(r,n,n[0],null);return{c(){e=y("div"),s=y("div"),l&&l.c(),this.h()},l(a){e=D(a,"DIV",{class:!0});var i=M(e);s=D(i,"DIV",{class:!0});var f=M(s);l&&l.l(f),f.forEach(u),i.forEach(u),this.h()},h(){g(s,"class","inner svelte-1yy7nz9"),g(e,"class","outer svelte-1yy7nz9")},m(a,i){P(a,e,i),c(e,s),l&&l.m(s,null),t=!0},p(a,[i]){l&&l.p&&(!t||i&1)&&Ee(l,r,a,a[0],t?De(r,a[0],i,null):ye(a[0]),null)},i(a){t||(O(l,a),t=!0)},o(a){q(l,a),t=!1},d(a){a&&u(e),l&&l.d(a)}}}function Be(n,e,s){let{$$slots:t={},$$scope:r}=e;return n.$$set=l=>{"$$scope"in l&&s(0,r=l.$$scope)},[r,t]}class ne extends oe{constructor(e){super(),fe(this,e,Be,Ne,ce,{})}}function he(n,e,s){const t=n.slice();return t[20]=e[s],t}function me(n,e,s){const t=n.slice();return t[23]=e[s],t}function ve(n){let e,s=n[0].userGroupEx,t=[];for(let r=0;r<s.length;r+=1)t[r]=$e(me(n,s,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=se()},l(r){for(let l=0;l<t.length;l+=1)t[l].l(r);e=se()},m(r,l){for(let a=0;a<t.length;a+=1)t[a].m(r,l);P(r,e,l)},p(r,l){if(l&1){s=r[0].userGroupEx;let a;for(a=0;a<s.length;a+=1){const i=me(r,s,a);t[a]?t[a].p(i,l):(t[a]=$e(i),t[a].c(),t[a].m(e.parentNode,e))}for(;a<t.length;a+=1)t[a].d(1);t.length=s.length}},d(r){je(t,r),r&&u(e)}}}function $e(n){let e,s,t=n[23]+"",r;return{c(){e=T("\uFF0C"),s=new we(!1),r=se(),this.h()},l(l){e=A(l,"\uFF0C"),s=ke(l,!1),r=se(),this.h()},h(){s.a=r},m(l,a){P(l,e,a),s.m(t,l,a),P(l,r,a)},p(l,a){a&1&&t!==(t=l[23]+"")&&s.p(t)},d(l){l&&u(e),l&&u(r),l&&s.d()}}}function ge(n){let e,s,t,r,l,a=n[20][1]+"",i,f,p,k=n[5][n[20][1]]+"",o,m,V,I=(100*n[5][n[20][1]]*n[20][2]/n[1]).toFixed(2)+"",z,L,H,B,W=ae(n[5][n[20][1]],n[20][3])+"",R,Y,X,_,d;function U(){return n[13](n[20])}return{c(){e=y("div"),s=y("div"),t=y("div"),r=F(),l=y("div"),i=T(a),f=F(),p=y("div"),o=T(k),m=F(),V=y("div"),z=T(I),L=T("%"),H=F(),B=y("div"),R=T(W),Y=F(),this.h()},l(v){e=D(v,"DIV",{class:!0,style:!0});var $=M(e);s=D($,"DIV",{class:!0});var S=M(s);t=D(S,"DIV",{class:!0,style:!0}),M(t).forEach(u),S.forEach(u),r=G($),l=D($,"DIV",{class:!0});var j=M(l);i=A(j,a),j.forEach(u),f=G($),p=D($,"DIV",{class:!0});var N=M(p);o=A(N,k),N.forEach(u),m=G($),V=D($,"DIV",{class:!0});var b=M(V);z=A(b,I),L=A(b,"%"),b.forEach(u),H=G($),B=D($,"DIV",{class:!0});var h=M(B);R=A(h,W),h.forEach(u),Y=G($),$.forEach(u),this.h()},h(){g(t,"class","color-example svelte-3f2djp"),re(t,"background-color",n[20][0]),g(s,"class","color svelte-3f2djp"),g(l,"class","name svelte-3f2djp"),g(p,"class","count svelte-3f2djp"),g(V,"class","percent svelte-3f2djp"),g(B,"class","rank svelte-3f2djp"),g(e,"class","lines svelte-3f2djp"),g(e,"style",X=n[6]===n[20][1]?"background: #d8d8d8;":"")},m(v,$){P(v,e,$),c(e,s),c(s,t),c(e,r),c(e,l),c(l,i),c(e,f),c(e,p),c(p,o),c(e,m),c(e,V),c(V,z),c(V,L),c(e,H),c(e,B),c(B,R),c(e,Y),_||(d=te(e,"click",U),_=!0)},p(v,$){n=v,$&32&&k!==(k=n[5][n[20][1]]+"")&&ee(o,k),$&34&&I!==(I=(100*n[5][n[20][1]]*n[20][2]/n[1]).toFixed(2)+"")&&ee(z,I),$&32&&W!==(W=ae(n[5][n[20][1]],n[20][3])+"")&&ee(R,W),$&64&&X!==(X=n[6]===n[20][1]?"background: #d8d8d8;":"")&&g(e,"style",X)},d(v){v&&u(e),_=!1,d()}}}function ze(n){let e,s,t=n[0].username+"",r,l,a,i,f=n[0].userGroup+"",p,k,o,m,V,I,z,L,H,B,W,R,Y,X,_,d=ae(n[1],n[7])+"",U,v,$,S,j=n[0].userGroupEx&&ve(n),N=n[8],b=[];for(let h=0;h<N.length;h+=1)b[h]=ge(he(n,N,h));return{c(){e=y("div"),s=y("a"),r=T(t),a=T(`
		(
			`),i=new we(!1),p=se(),j&&j.c(),k=T(`
		)
		`),o=y("div"),m=y("div"),V=F(),I=y("div"),z=T("\u603B\u79EF\u5206"),L=F(),H=y("div"),B=T(n[1]),W=F(),R=y("div"),Y=T("100.00%"),X=F(),_=y("div"),U=T(d),v=F();for(let h=0;h<b.length;h+=1)b[h].c();this.h()},l(h){e=D(h,"DIV",{class:!0});var E=M(e);s=D(E,"A",{style:!0,href:!0,target:!0});var w=M(s);r=A(w,t),w.forEach(u),a=A(E,`
		(
			`),i=ke(E,!1),p=se(),j&&j.l(E),k=A(E,`
		)
		`),o=D(E,"DIV",{class:!0});var C=M(o);m=D(C,"DIV",{class:!0}),M(m).forEach(u),V=G(C),I=D(C,"DIV",{class:!0});var le=M(I);z=A(le,"\u603B\u79EF\u5206"),le.forEach(u),L=G(C),H=D(C,"DIV",{class:!0});var x=M(H);B=A(x,n[1]),x.forEach(u),W=G(C),R=D(C,"DIV",{class:!0});var ue=M(R);Y=A(ue,"100.00%"),ue.forEach(u),X=G(C),_=D(C,"DIV",{class:!0});var de=M(_);U=A(de,d),de.forEach(u),C.forEach(u),v=G(E);for(let ie=0;ie<b.length;ie+=1)b[ie].l(E);E.forEach(u),this.h()},h(){re(s,"font-size","24px"),re(s,"color","black"),g(s,"href",l="https://www.mcbbs.net/home.php?mod=space&username="+n[0].username),g(s,"target","_blank"),i.a=p,g(m,"class","color svelte-3f2djp"),g(I,"class","name svelte-3f2djp"),g(H,"class","count svelte-3f2djp"),g(R,"class","percent svelte-3f2djp"),g(_,"class","rank svelte-3f2djp"),g(o,"class","lines svelte-3f2djp"),g(e,"class","parent svelte-3f2djp")},m(h,E){P(h,e,E),c(e,s),c(s,r),c(e,a),i.m(f,e),c(e,p),j&&j.m(e,null),c(e,k),c(e,o),c(o,m),c(o,V),c(o,I),c(I,z),c(o,L),c(o,H),c(H,B),c(o,W),c(o,R),c(R,Y),c(o,X),c(o,_),c(_,U),c(e,v);for(let w=0;w<b.length;w+=1)b[w].m(e,null);$||(S=te(o,"click",n[12]),$=!0)},p(h,E){if(E&1&&t!==(t=h[0].username+"")&&ee(r,t),E&1&&l!==(l="https://www.mcbbs.net/home.php?mod=space&username="+h[0].username)&&g(s,"href",l),E&1&&f!==(f=h[0].userGroup+"")&&i.p(f),h[0].userGroupEx?j?j.p(h,E):(j=ve(h),j.c(),j.m(e,k)):j&&(j.d(1),j=null),E&2&&ee(B,h[1]),E&2&&d!==(d=ae(h[1],h[7])+"")&&ee(U,d),E&2402){N=h[8];let w;for(w=0;w<N.length;w+=1){const C=he(h,N,w);b[w]?b[w].p(C,E):(b[w]=ge(C),b[w].c(),b[w].m(e,null))}for(;w<b.length;w+=1)b[w].d(1);b.length=N.length}},d(h){h&&u(e),j&&j.d(),je(b,h),$=!1,S()}}}function Fe(n){let e,s,t,r,l;return{c(){e=y("div"),s=y("canvas"),t=T("\u8BF7\u66F4\u65B0\u6D4F\u89C8\u5668\uFF01"),this.h()},l(a){e=D(a,"DIV",{class:!0});var i=M(e);s=D(i,"CANVAS",{width:!0,height:!0});var f=M(s);t=A(f,"\u8BF7\u66F4\u65B0\u6D4F\u89C8\u5668\uFF01"),f.forEach(u),i.forEach(u),this.h()},h(){g(s,"width",n[4]),g(s,"height",n[4]),g(e,"class","canvas-parent svelte-3f2djp")},m(a,i){P(a,e,i),c(e,s),c(s,t),n[14](s),n[15](e),r||(l=te(e,"click",n[10]),r=!0)},p(a,i){i&16&&g(s,"width",a[4]),i&16&&g(s,"height",a[4])},d(a){a&&u(e),n[14](null),n[15](null),r=!1,l()}}}function Ge(n){let e,s,t,r,l,a;return e=new ne({props:{$$slots:{default:[ze]},$$scope:{ctx:n}}}),t=new ne({props:{$$slots:{default:[Fe]},$$scope:{ctx:n}}}),{c(){J(e.$$.fragment),s=F(),J(t.$$.fragment)},l(i){Q(e.$$.fragment,i),s=G(i),Q(t.$$.fragment,i)},m(i,f){K(e,i,f),P(i,s,f),K(t,i,f),r=!0,l||(a=te(window,"resize",n[9]),l=!0)},p(i,[f]){const p={};f&67108963&&(p.$$scope={dirty:f,ctx:i}),e.$set(p);const k={};f&67108892&&(k.$$scope={dirty:f,ctx:i}),t.$set(k)},i(i){r||(O(e.$$.fragment,i),O(t.$$.fragment,i),r=!0)},o(i){q(e.$$.fragment,i),q(t.$$.fragment,i),r=!1},d(i){Z(e,i),i&&u(s),Z(t,i),l=!1,a()}}}function ae(n,e){return n>=e[0]?"A":n>=e[1]?"B":n>=e[2]?"C":n>=0?"D":"E"}function Le(n,e,s){const t=[12564,7348,4827],r=[["#2dc6c8","\u4EBA\u6C14",3,[1770,829,395]],["#5daf7a","\u91D1\u7C92",0,[23372,14581,9110]],["#9c3a4b","\u91D1\u952D",0,[72,40,23]],["#3866b9","\u5B9D\u77F3",0,[20,9,5]],["#82de76","\u4E0B\u754C\u4E4B\u5FC3",0,[8,4,1]],["#b6a2dd","\u8D21\u732E",10,[61,21,6]],["#5ab1ee","\u7231\u5FC3",4,[139,51,18]],["#d7797f","\u94BB\u77F3",2,[2641,2014,1531]],["#e6399b","\u53D1\u5E16\u6570",1/3,[6677,3504,1911]],["#9f3ed5","\u4E3B\u9898\u6570",2,[262,166,103]],["#ff4040","\u7CBE\u534E\u6570",45,[20,3,0]]];let{renderingUser:l}=e,a,i,f=600,p=0,k={},o=0,m,V="",I;function z(){let _=getComputedStyle(a).width;s(4,f=Math.min(parseInt(/^([\s\S]+)px$/.exec(_)[1])-48,600)),L(),I=setInterval(L,30)}function L(_=!1){if(!i)return;_&&s(6,V=""),o===1&&(clearInterval(I),I=0),o+=.03,o>=1&&(o=1);let d=i.getContext("2d"),U=0,v=f/2;d.clearRect(0,0,f,f);for(let[$,S,j]of r){if(j==0||k[S]==0)continue;d.fillStyle=$,d.strokeStyle=$,d.lineWidth=2,d.font="400 "+f/60+"px serif";let N=2*Math.PI*(U/p*o-1/4),b=2*Math.PI*((U+=k[S]*j)/p*o-1/4);N>b&&([N,b]=[b,N]);let h=(N+b)/2;_&&m>N&&m<b&&s(6,V=S);let E=S===V?f/2.7:f/3,w=v+Math.cos(h)*f/2.5,C=v+Math.sin(h)*f/2.5,le=(100*k[S]*j/p).toFixed(2)+"%";if(d.beginPath(),d.moveTo(v,v),d.arc(v,v,E,N,b),d.closePath(),d.fill(),d.moveTo(v,v),d.lineTo(w,C),d.stroke(),h>Math.PI/2){let x=w-f/10;d.lineTo(x,C),d.fillText(S+k[S],x,C-f/120),d.fillText(le,x,C+f/40),d.stroke()}else{let x=w+f/10;d.lineTo(x,C),d.fillText(S+k[S],w,C-f/120),d.fillText(le,w,C+f/40),d.stroke()}}}function H(_){let d=f/2,U=_.offsetX-d,v=_.offsetY-d,$=(U**2+v**2)**.5;if($<=f/2.6){let S=U/$;m=v/$>=0?Math.acos(S):2*Math.PI-Math.acos(S),m=m>=3*Math.PI/2?m-2*Math.PI:m,L(!0)}else m=void 0,L(!0)}function B(_){s(6,V=_),L()}be(z),Ce(()=>I!=0?clearInterval(I):0);const W=()=>B(""),R=_=>B(_[1]);function Y(_){pe[_?"unshift":"push"](()=>{i=_,s(3,i)})}function X(_){pe[_?"unshift":"push"](()=>{a=_,s(2,a)})}return n.$$set=_=>{"renderingUser"in _&&s(0,l=_.renderingUser)},n.$$.update=()=>{if(n.$$.dirty&3){s(1,p=l.credits.\u79EF\u5206);let _={},d=0;for(let U of r){let v;switch(U[1]){case"\u53D1\u5E16\u6570":v=l.posts+l.threads;break;case"\u4E3B\u9898\u6570":v=l.threads;break;case"\u7CBE\u534E\u6570":v=(p-d)/45;break;default:v=l.credits[U[1]]}_[U[1]]=v,d+=Math.floor(v*U[2]+.5)}s(5,k=_)}},[l,p,a,i,f,k,V,t,r,z,H,B,W,R,Y,X]}class Re extends oe{constructor(e){super(),fe(this,e,Le,Ge,ce,{renderingUser:0})}}function He(n){let e,s,t,r,l,a;return{c(){e=T(`\u8F93\u5165\u7528\u6237\u7684UID\uFF1A
		`),s=y("input"),t=y("button"),r=T("\u786E\u5B9A"),this.h()},l(i){e=A(i,`\u8F93\u5165\u7528\u6237\u7684UID\uFF1A
		`),s=D(i,"INPUT",{type:!0,class:!0}),t=D(i,"BUTTON",{class:!0});var f=M(t);r=A(f,"\u786E\u5B9A"),f.forEach(u),this.h()},h(){g(s,"type","text"),g(s,"class","svelte-oa5atv"),g(t,"class","svelte-oa5atv")},m(i,f){P(i,e,f),P(i,s,f),_e(s,n[1]),P(i,t,f),c(t,r),l||(a=[te(s,"input",n[4]),te(t,"click",n[3])],l=!0)},p(i,f){f&2&&s.value!==i[1]&&_e(s,i[1])},d(i){i&&u(e),i&&u(s),i&&u(t),l=!1,Te(a)}}}function Oe(n){let e,s;return e=new Re({props:{renderingUser:n[0]}}),{c(){J(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,r){K(e,t,r),s=!0},p(t,r){const l={};r&1&&(l.renderingUser=t[0]),e.$set(l)},i(t){s||(O(e.$$.fragment,t),s=!0)},o(t){q(e.$$.fragment,t),s=!1},d(t){Z(e,t)}}}function qe(n){let e,s;return e=new ne({props:{$$slots:{default:[Xe]},$$scope:{ctx:n}}}),{c(){J(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,r){K(e,t,r),s=!0},p(t,r){const l={};r&64&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){s||(O(e.$$.fragment,t),s=!0)},o(t){q(e.$$.fragment,t),s=!1},d(t){Z(e,t)}}}function We(n){let e,s;return e=new ne({props:{$$slots:{default:[Ye]},$$scope:{ctx:n}}}),{c(){J(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,r){K(e,t,r),s=!0},p(t,r){const l={};r&64&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){s||(O(e.$$.fragment,t),s=!0)},o(t){q(e.$$.fragment,t),s=!1},d(t){Z(e,t)}}}function Xe(n){let e;return{c(){e=T("\u52A0\u8F7D\u4E2D\u3002\u3002\u3002")},l(s){e=A(s,"\u52A0\u8F7D\u4E2D\u3002\u3002\u3002")},m(s,t){P(s,e,t)},d(s){s&&u(e)}}}function Ye(n){let e,s;return{c(){e=y("span"),s=T("\u627E\u4E0D\u5230\u8FD9\u4E2A\u7528\u6237"),this.h()},l(t){e=D(t,"SPAN",{style:!0});var r=M(e);s=A(r,"\u627E\u4E0D\u5230\u8FD9\u4E2A\u7528\u6237"),r.forEach(u),this.h()},h(){re(e,"color","red")},m(t,r){P(t,e,r),c(e,s)},p:Ae,d(t){t&&u(e)}}}function Je(n){let e;return{c(){e=T("\u8BF4\u660E\uFF1A\u7B49\u7EA7\u5224\u5B9A\u4E0E\u6392\u4F4D\u6709\u5173\uFF0C\u524D150\u540D\u5224\u4E3AA\u7EA7\uFF0C\u524D400\u540D\u5224\u4E3AB\u7EA7\uFF0C\u524D1000\u540D\u5224\u4E3AC\u7EA7\uFF0C\u9664\u6B64\u4E4B\u5916\u5927\u4E8E\u7B49\u4E8E\u96F6\u7684\u5224D\u7EA7\uFF0C\u5C0F\u4E8E\u96F6\u7684\u5224E\u7EA7\u3002\u91C7\u75282022\u5E744\u6708xmdhs\u7EDF\u8BA1\u6570\u636E\u3002")},l(s){e=A(s,"\u8BF4\u660E\uFF1A\u7B49\u7EA7\u5224\u5B9A\u4E0E\u6392\u4F4D\u6709\u5173\uFF0C\u524D150\u540D\u5224\u4E3AA\u7EA7\uFF0C\u524D400\u540D\u5224\u4E3AB\u7EA7\uFF0C\u524D1000\u540D\u5224\u4E3AC\u7EA7\uFF0C\u9664\u6B64\u4E4B\u5916\u5927\u4E8E\u7B49\u4E8E\u96F6\u7684\u5224D\u7EA7\uFF0C\u5C0F\u4E8E\u96F6\u7684\u5224E\u7EA7\u3002\u91C7\u75282022\u5E744\u6708xmdhs\u7EDF\u8BA1\u6570\u636E\u3002")},m(s,t){P(s,e,t)},d(s){s&&u(e)}}}function Qe(n){let e,s,t,r,l,a,i;e=new ne({props:{$$slots:{default:[He]},$$scope:{ctx:n}}});const f=[We,qe,Oe],p=[];function k(o,m){return o[0]==="error"?0:o[0]==="pending"?1:o[0]!=="none"?2:-1}return~(t=k(n))&&(r=p[t]=f[t](n)),a=new Se({props:{$$slots:{default:[Je]},$$scope:{ctx:n}}}),{c(){J(e.$$.fragment),s=F(),r&&r.c(),l=F(),J(a.$$.fragment)},l(o){Q(e.$$.fragment,o),s=G(o),r&&r.l(o),l=G(o),Q(a.$$.fragment,o)},m(o,m){K(e,o,m),P(o,s,m),~t&&p[t].m(o,m),P(o,l,m),K(a,o,m),i=!0},p(o,m){const V={};m&66&&(V.$$scope={dirty:m,ctx:o}),e.$set(V);let I=t;t=k(o),t===I?~t&&p[t].p(o,m):(r&&(Me(),q(p[I],1,1,()=>{p[I]=null}),Ve()),~t?(r=p[t],r?r.p(o,m):(r=p[t]=f[t](o),r.c()),O(r,1),r.m(l.parentNode,l)):r=null);const z={};m&64&&(z.$$scope={dirty:m,ctx:o}),a.$set(z)},i(o){i||(O(e.$$.fragment,o),O(r),O(a.$$.fragment,o),i=!0)},o(o){q(e.$$.fragment,o),q(r),q(a.$$.fragment,o),i=!1},d(o){Z(e,o),o&&u(s),~t&&p[t].d(o),o&&u(l),Z(a,o)}}}function Ke(n){let e,s,t,r;return e=new Ue({props:{title:n[2],background:!0}}),t=new Pe({props:{$$slots:{default:[Qe]},$$scope:{ctx:n}}}),{c(){J(e.$$.fragment),s=F(),J(t.$$.fragment)},l(l){Q(e.$$.fragment,l),s=G(l),Q(t.$$.fragment,l)},m(l,a){K(e,l,a),P(l,s,a),K(t,l,a),r=!0},p(l,[a]){const i={};a&4&&(i.title=l[2]),e.$set(i);const f={};a&67&&(f.$$scope={dirty:a,ctx:l}),t.$set(f)},i(l){r||(O(e.$$.fragment,l),O(t.$$.fragment,l),r=!0)},o(l){q(e.$$.fragment,l),q(t.$$.fragment,l),r=!1},d(l){Z(e,l),l&&u(s),Z(t,l)}}}const Ze="https://service-90k6etn2-1312710079.gz.apigw.tencentcs.com/release/get-mcbbs-userstat?uid=";async function xe(n){let e=await(await fetch(Ze+n)).json();if(e.error)throw new Error(e.error);return e}function et(n,e,s){let t="",r="MCBBS\u79EF\u5206\u5206\u6790",l="none";async function a(){let p=parseInt(t);if(isFinite(p)&&p>0){s(0,l="pending");try{s(0,l=await xe(p)),history.pushState({},"",location.pathname+"?uid="+p)}catch{s(0,l="error")}}else s(0,l="error")}function i(){s(1,t=new URLSearchParams(location.search).get("uid")||""),t!=""&&a()}be(i);function f(){t=this.value,s(1,t)}return n.$$.update=()=>{if(n.$$.dirty&1)switch(l){case"none":case"pending":case"error":s(2,r="MCBBS\u79EF\u5206\u5206\u6790");break;default:s(2,r="MCBBS\u79EF\u5206\u5206\u6790 - "+l.username)}},[l,t,r,a,f]}class nt extends oe{constructor(e){super(),fe(this,e,et,Ke,ce,{})}}export{nt as default};
